PC     Output            Line Source
040000                   0001 
040000                   0002     ASSUME adl=1
040000                   0003 
040000                   0004 
040000                   0005 mos_dir:		    EQU	04h
040000                   0006 
040000                   0007     ORG $040000
040000                   0008 
040000 C3 46 01 04       0009     jp  start
040004                   0010 
040004 FF FF FF FF FF FF 0011     .align 64
       FF FF FF FF FF FF 
       FF FF FF FF FF FF 
       FF FF FF FF FF FF 
       FF FF FF FF FF FF 
       FF FF FF FF FF FF 
       FF FF FF FF FF FF 
       FF FF FF FF FF FF 
       FF FF FF FF FF FF 
       FF FF FF FF FF FF 
040040                   0012     ; MOS Header
040040 4D 4F 53 00 01    0013     db "MOS",0,1
040045                   0014 
040045                   0015 
040045                   0016 ; ******************************************************************
040045                   0017 
040045                   0018 path:
040045 2E 00             0019     db ".",0
040047 00 00 00 00 00 00 0020     ds 255
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00 00 00 00 
       00 00 00          
040146                   0021 
040146                   0022 start:
040146 F5                0023     push af
040147 C5                0024     push bc
040148 D5                0025     push de
040149 DD E5             0026     push ix
04014B FD E5             0027     push iy
04014D                   0028 
04014D                   0029 ; The main routine
04014D                   0030 ; IXU: argv - pointer to array of parameters
04014D                   0031 ;   C: argc - number of parameters
04014D                   0032 ; Returns:
04014D                   0033 ;  HL: Error code, or 0 if OK
04014D                   0034 
04014D 79                0035     ld a, c
04014E 28 0A             0036     jr z, current_path
040150                   0037 
040150 DD 27             0038     ld hl, (ix)
040152 01 00 00 00       0039     ld bc, 0
040156 3E 00             0040     ld a, 0
040158 5B DF             0041     rst.lil 0x18
04015A                   0042 
04015A                   0043 current_path:
04015A 3E 04             0044     LD	A, mos_dir
04015C 5B CF             0045 	rst.lil	0x08
04015E                   0046 
04015E                   0047 done:
04015E                   0048 
04015E FD E1             0049     pop iy
040160 DD E1             0050     pop ix
040162 D1                0051     pop de
040163 C1                0052     pop bc
040164 F1                0053     pop af
040165                   0054 
040165 21 00 00 00       0055     ld  hl, 0
040169                   0056 
040169 C9                0057     ret
04016A                   0058 
04016A                   0059 instruction_str:
04016A 50 72 65 73 73 20 0060     db "Press ESC to quit or press a key to see display that key\r\n",0
       45 53 43 20 74 6F 
       20 71 75 69 74 20 
       6F 72 20 70 72 65 
       73 73 20 61 20 6B 
       65 79 20 74 6F 20 
       73 65 65 20 64 69 
       73 70 6C 61 79 20 
       74 68 61 74 20 6B 
       65 79 0D 0A 00    
0401A5                   0061 
0401A5                   0062 answer_str:
0401A5 54 68 65 20 6B 65 0063     db "The key you pressed was: ",0
       79 20 79 6F 75 20 
       70 72 65 73 73 65 
       64 20 77 61 73 3A 
       20 00             
0401BF                   0064 
0401BF                   0065 done_str:
0401BF 0D 0A 44 6F 6E 65 0066     db "\r\nDone."
       2E                
0401C6                   0067 return_str:
0401C6 0D 0A 00          0068     db "\r\n",0
0401C9                   0069 
0401C9                   0070 
0401C9                   0071 
